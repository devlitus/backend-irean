### EJEMPLO PRÃCTICO: Plugin irean-i18n
### Este archivo muestra paso a paso cÃ³mo funciona el plugin

@baseUrl = http://localhost:1337

### ============================================
### PASO 0: Verificar que los locales existen
### ============================================

### GET Verificar locales disponibles
GET {{baseUrl}}/irean-i18n/locales

###
### Resultado esperado:
### [
###   { "id": 1, "code": "es", "name": "EspaÃ±ol", "isDefault": true },
###   ... (en, ca si los agregaste)
### ]
###


### ============================================
### PASO 1: CREAR PRODUCTO EN ESPAÃ‘OL
### ============================================

### Crear: Camiseta Azul en EspaÃ±ol
POST {{baseUrl}}/api/products
Content-Type: application/json

{
  "data": {
    "name": "Camiseta Azul BebÃ©",
    "description": "Una camiseta cÃ³moda y suave para bebÃ©s reciÃ©n nacidos",
    "price": 24.99,
    "stock": 150,
    "gender": "boy",
    "locale": "es"
  }
}

###
### Guarda el ID de la respuesta, serÃ¡ algo como:
### { "id": 1, "locale": "es", ... }
###

@productEsId = 1


### ============================================
### PASO 2: CREAR PRODUCTO EN INGLÃ‰S
### ============================================

### Crear: Misma camiseta pero en InglÃ©s
POST {{baseUrl}}/api/products
Content-Type: application/json

{
  "data": {
    "name": "Blue Baby Shirt",
    "description": "A comfortable and soft shirt for newborn babies",
    "price": 24.99,
    "stock": 150,
    "gender": "boy",
    "locale": "en"
  }
}

###
### Guarda el ID: serÃ¡ algo como:
### { "id": 2, "locale": "en", ... }
###

@productEnId = 2


### ============================================
### PASO 3: CREAR PRODUCTO EN CATALÃN
### ============================================

### Crear: Misma camiseta pero en CatalÃ¡n
POST {{baseUrl}}/api/products
Content-Type: application/json

{
  "data": {
    "name": "Samarreta Blava de BebÃ¨",
    "description": "Una samarreta cÃ²moda i suau per a bebÃ¨s acabats de nÃ©ixer",
    "price": 24.99,
    "stock": 150,
    "gender": "boy",
    "locale": "ca"
  }
}

###
### Guarda el ID: serÃ¡ algo como:
### { "id": 3, "locale": "ca", ... }
###

@productCaId = 3


### ============================================
### PASO 4: VINCULAR LAS TRADUCCIONES (OPCIONAL)
### ============================================

### Actualizar Producto EspaÃ±ol: agregar relaciÃ³n a inglÃ©s y catalÃ¡n
PUT {{baseUrl}}/api/products/1
Content-Type: application/json

{
  "data": {
    "localizations": [2, 3]
  }
}

###
### Ahora el producto en espaÃ±ol SABE que tiene traducciones en inglÃ©s y catalÃ¡n
###


### ============================================
### PASO 5: FILTRAR POR LOCALE - VER SOLO ESPAÃ‘OLES
### ============================================

### Obtener SOLO productos en espaÃ±ol
GET {{baseUrl}}/api/products?locale=es

###
### Resultado esperado:
### [
###   {
###     "id": 1,
###     "name": "Camiseta Azul BebÃ©",
###     "price": 24.99,
###     "locale": "es",
###     "localizations": [2, 3]
###   }
### ]
###
### âš ï¸ IMPORTANTE: Solo devuelve el producto 1 (espaÃ±ol)
### Los productos 2 (inglÃ©s) y 3 (catalÃ¡n) NO aparecen
###


### ============================================
### PASO 6: FILTRAR POR LOCALE - VER SOLO INGLESES
### ============================================

### Obtener SOLO productos en inglÃ©s
GET {{baseUrl}}/api/products?locale=en

###
### Resultado esperado:
### [
###   {
###     "id": 2,
###     "name": "Blue Baby Shirt",
###     "price": 24.99,
###     "locale": "en"
###   }
### ]
###
### âš ï¸ Solo devuelve el producto 2 (inglÃ©s)
###


### ============================================
### PASO 7: FILTRAR POR LOCALE - VER SOLO CATALANES
### ============================================

### Obtener SOLO productos en catalÃ¡n
GET {{baseUrl}}/api/products?locale=ca

###
### Resultado esperado:
### [
###   {
###     "id": 3,
###     "name": "Samarreta Blava de BebÃ¨",
###     "price": 24.99,
###     "locale": "ca"
###   }
### ]
###


### ============================================
### PASO 8: VER PRODUCTO CON TODAS SUS TRADUCCIONES
### ============================================

### Obtener producto espaÃ±ol CON sus traducciones
GET {{baseUrl}}/api/products/1?populate[localizations]=*

###
### Resultado esperado:
### {
###   "id": 1,
###   "name": "Camiseta Azul BebÃ©",
###   "locale": "es",
###   "price": 24.99,
###   "localizations": [
###     {
###       "id": 2,
###       "name": "Blue Baby Shirt",
###       "locale": "en",
###       "price": 24.99
###     },
###     {
###       "id": 3,
###       "name": "Samarreta Blava de BebÃ¨",
###       "locale": "ca",
###       "price": 24.99
###     }
###   ]
### }
###
### âš ï¸ Ahora VES todas las traducciones dentro del objeto!
###


### ============================================
### PASO 9: CREAR PRODUCTO SIN ESPECIFICAR LOCALE
### ============================================

### Crear producto SIN indicar locale
### DeberÃ­a asignar automÃ¡ticamente "es" (locale por defecto)
POST {{baseUrl}}/api/products
Content-Type: application/json

{
  "data": {
    "name": "PantalÃ³n Verde BebÃ©",
    "description": "PantalÃ³n cÃ³modo para bebÃ©s",
    "price": 34.99,
    "stock": 80,
    "gender": "girl"
  }
}

###
### Resultado esperado:
### El servidor AUTOMÃTICAMENTE asigna locale: "es"
### (porque es el locale por defecto)
###


### ============================================
### PASO 10: INTENTAR CREAR CON LOCALE INVÃLIDO
### ============================================

### Intentar crear con locale que NO existe (debe fallar)
POST {{baseUrl}}/api/products
Content-Type: application/json

{
  "data": {
    "name": "Test Producto",
    "description": "Test",
    "price": 10.00,
    "stock": 50,
    "gender": "boy",
    "locale": "fr"
  }
}

###
### Resultado esperado: ERROR
### "Locale fr does not exist"
###
### El plugin valida que el locale exista en la BD
###


### ============================================
### RESUMEN DE LO QUE VIMOS
### ============================================

###
### âœ… FUNCIONALIDADES DEL PLUGIN:
###
### 1. Crear productos en diferentes idiomas (es, en, ca)
### 2. Cada producto tiene su PROPIO registro en BD
### 3. El campo "locale" indica en quÃ© idioma estÃ¡
### 4. Puedes FILTRAR por locale: ?locale=es
### 5. Puedes VINCULAR traducciones: localizations: [2, 3]
### 6. Puedes VER todas las traducciones: ?populate[localizations]=*
### 7. Si no especificas locale, se asigna automÃ¡ticamente (es)
### 8. Si usas un locale invÃ¡lido, falla la creaciÃ³n
###
### ğŸ¯ VENTAJAS:
###
### - Precio/Stock/ImÃ¡genes NO se duplican (estÃ¡n en TODOS los registros)
### - Nombre/DescripciÃ³n SÃ se traducen (uno por idioma)
### - FÃ¡cil filtrar por idioma desde el frontend
### - FÃ¡cil mantener traducciones actualizadas
###
### ğŸ“Š BASE DE DATOS:
###
### Tabla products (tendrÃ¡ 3 registros):
### â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
### â”‚ id â”‚ name               â”‚ price  â”‚ stock  â”‚ locale â”‚
### â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
### â”‚ 1  â”‚ Camiseta Azul      â”‚ 24.99  â”‚ 150    â”‚ es     â”‚
### â”‚ 2  â”‚ Blue Baby Shirt    â”‚ 24.99  â”‚ 150    â”‚ en     â”‚
### â”‚ 3  â”‚ Samarreta Blava    â”‚ 24.99  â”‚ 150    â”‚ ca     â”‚
### â”‚ 4  â”‚ PantalÃ³n Verde     â”‚ 34.99  â”‚ 80     â”‚ es     â”‚
### â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
###
### Â¡LISTO! Ahora entiende cÃ³mo funciona el plugin ğŸ‰
